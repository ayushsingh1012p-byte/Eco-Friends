{% extends 'base.html' %}
{% block title %}Challenges{% endblock %}

{% block content %}
<div class="main-content-store">
    <h2>Challenges</h2>
    <p>Participate in eco-friendly challenges to earn EcoPoints and level up!</p>
    <div class="cards" style="gap: 20px;">
        <div class="row g-4">
            {% for challenge in challenges %}
            <div class="card h-100 shadow-sm border-0">
                {% if challenge.image %}
                <div class="card-img-top d-flex align-items-center justify-content-center"
                    style="height:200px; background: linear-gradient(135deg, #f0f7ff, #d9f0ff);">
                    <img style="max-height: 244px;" src="{{ challenge.image.url }}" class="img-fluid h-100 w-100 object-fit-cover rounded-top">
                </div>
                {% else %}
                <div class="card-img-top d-flex align-items-center justify-content-center"
                    style="height:200px; background: linear-gradient(135deg, #f0f7ff, #d9f0ff);">
                    <i class="fa-solid fa-bolt" style="font-size:50px; color:#198754;"></i>
                </div>
                {% endif %}
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">{{ challenge.title }}</h5>
                    <p class="card-text text-muted">{{ challenge.description|truncatechars:100 }}</p>
                    {% if challenge.date %}
                    <p class="mb-1"><strong>Date:</strong> {{ challenge.date }}</p>
                    {% endif %}
                    {% if challenge.location %}
                    <p class="mb-3"><strong>Location:</strong> {{ challenge.location }}</p>
                    {% endif %}

                </div>
            </div>
        </div>
        {% endfor %}
    </div>


</div>

<a href="{% url 'submission' %}" class="btn btn-primary add-btn"
    style="background: linear-gradient(135deg, #5a6edc, #6c3f9e);">
    <i class="bi bi-plus-lg"></i> Join Challenge
</a>
</div>
{% endblock %}